<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .main-container {
            width: 100%;
            height: 10rem;

            display: flex;
            overflow: hidden;

            background-color: aquamarine;

            .carousel-item {
                width: 100%;
                flex: 1 0 100%;
            }
        }
    </style>
    <!-- <link rel="stylesheet" href="./style/index.css"> -->
</head>

<body>

    <section class="main-container" part="container">
        <section class="carousel-item">1</section>
        <section class="carousel-item">2</section>
        <section class="carousel-item">3</section>
    </section>

    <script type="module">
        import "./index.js"

        let index = 0;

        const container = document.querySelector(".main-container");
        const items = document.querySelectorAll(".carousel-item");
        const cursors = document.querySelectorAll(".carousel-cursor-item");

        const prevEl = items[items.length - 1].cloneNode(true);
        items[items.length - 1].remove();
        container.insertBefore(prevEl, container.firstChild);
        // container.style.transform = `translateX(-100%)`;

        container.addEventListener("mousedown", e => {
            const controller = new AbortController();

            const starPoint = e.clientX;
            let endPoint;

            console.log(e);


            container.addEventListener("mousemove", moveE => {
                container.style.transform = `translateX(${starPoint - moveE.clientX}px)`;
            }, { signal: controller.signal })

            container.addEventListener("mouseup", () => {
                controller.abort();
            }, { signal: controller.signal })
        })
    </script>
</body>

</html>